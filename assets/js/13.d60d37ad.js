(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{565:function(s,e,t){"use strict";t.r(e);var r=t(20),i=Object(r.a)({},(function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("p",[s._v("在執行指令後，有時我們會想要以特定的方式排序指令所輸出的結果，這時可以使用 "),t("code",[s._v("sort")]),s._v(" 來做排序，本文記錄如何使用 sort 將特定字元作為分隔符，並對分隔後的特定欄位做排序。")]),s._v(" "),t("h2",{attrs:{id:"情境"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#情境"}},[s._v("#")]),s._v(" 情境")]),s._v(" "),t("p",[s._v("假設現在使用了 "),t("code",[s._v("find")]),s._v(" 找出一些檔案，並用 "),t("code",[s._v("sort")]),s._v(" 排序：")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("div",{staticClass:"highlight-lines"},[t("br"),t("br"),t("br"),t("br"),t("br"),t("br"),t("br"),t("br"),t("br"),t("br"),t("div",{staticClass:"highlighted"},[s._v(" ")]),t("div",{staticClass:"highlighted"},[s._v(" ")]),t("br"),t("br"),t("br"),t("div",{staticClass:"highlighted"},[s._v(" ")]),t("div",{staticClass:"highlighted"},[s._v(" ")]),t("br"),t("br"),t("br"),t("br"),t("br"),t("br"),t("br")]),t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("% "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("find")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$DOTFILES_ROOT")]),s._v("/*/scripts -name install.sh "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sort")]),s._v("\n/Users/PeterChen/.dotfiles/bat/scripts/install.sh\n/Users/PeterChen/.dotfiles/cheat.sh/scripts/install.sh\n/Users/PeterChen/.dotfiles/exa/scripts/install.sh\n/Users/PeterChen/.dotfiles/fd/scripts/install.sh\n/Users/PeterChen/.dotfiles/fzf/scripts/install.sh\n/Users/PeterChen/.dotfiles/gcc/scripts/install.sh\n/Users/PeterChen/.dotfiles/git/scripts/install.sh\n/Users/PeterChen/.dotfiles/neofetch/scripts/install.sh\n/Users/PeterChen/.dotfiles/node.nvm/scripts/install.sh\n/Users/PeterChen/.dotfiles/nvim.packer.nvim/scripts/install.sh\n/Users/PeterChen/.dotfiles/nvim/scripts/install.sh\n/Users/PeterChen/.dotfiles/pip/scripts/install.sh\n/Users/PeterChen/.dotfiles/pyenv/scripts/install.sh\n/Users/PeterChen/.dotfiles/ripgrep/scripts/install.sh\n/Users/PeterChen/.dotfiles/rust.cargo/scripts/install.sh\n/Users/PeterChen/.dotfiles/rust/scripts/install.sh\n/Users/PeterChen/.dotfiles/sdkman/scripts/install.sh\n/Users/PeterChen/.dotfiles/tmux/scripts/install.sh\n/Users/PeterChen/.dotfiles/vim/scripts/install.sh\n/Users/PeterChen/.dotfiles/zsh.fzf-tab/scripts/install.sh\n/Users/PeterChen/.dotfiles/zsh.zplug/scripts/install.sh\n/Users/PeterChen/.dotfiles/zsh/scripts/install.sh\n")])])]),t("p",[s._v("我們想要對 "),t("code",[s._v(".dotfiles")]),s._v(" 的下層資料夾做排序，可以看到因為沒有設定分隔符的關係， "),t("code",[s._v("sort")]),s._v(" 將整個字串視為排序的對象，因此會將路徑層的 "),t("code",[s._v("/")]),s._v(" 也作為排序的依據，所以像是  "),t("strong",[t("code",[s._v("nvim.packer.nvim")]),s._v(" 與 "),t("code",[s._v("nvim")])]),s._v(" 和 "),t("strong",[t("code",[s._v("rust.cargo")]),s._v(" 與 "),t("code",[s._v("rust")])]),s._v(" 會是排序相反的狀況。")]),s._v(" "),t("h2",{attrs:{id:"設定分隔符與排序欄位"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#設定分隔符與排序欄位"}},[s._v("#")]),s._v(" 設定分隔符與排序欄位")]),s._v(" "),t("p",[t("code",[s._v("sort")]),s._v(" 可以使用 "),t("code",[s._v("-t")]),s._v(" 或是 "),t("code",[s._v("--field-separator")]),s._v(" 來指定分隔符，並且使用 "),t("code",[s._v("-k")]),s._v(" 或是 "),t("code",[s._v("--key")]),s._v(" 指定要排序的欄位。")]),s._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("div",{staticClass:"highlight-lines"},[t("br"),t("br"),t("br"),t("br"),t("br"),t("br"),t("br"),t("br"),t("br"),t("br"),t("div",{staticClass:"highlighted"},[s._v(" ")]),t("div",{staticClass:"highlighted"},[s._v(" ")]),t("br"),t("br"),t("br"),t("div",{staticClass:"highlighted"},[s._v(" ")]),t("div",{staticClass:"highlighted"},[s._v(" ")]),t("br"),t("br"),t("br"),t("br"),t("br"),t("br"),t("br")]),t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[s._v("% "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("find")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$DOTFILES_ROOT")]),s._v("/*/scripts -name install.sh "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sort")]),s._v(" -t "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/'")]),s._v(" -k "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5,5")]),s._v("\n/Users/PeterChen/.dotfiles/bat/scripts/install.sh\n/Users/PeterChen/.dotfiles/cheat.sh/scripts/install.sh\n/Users/PeterChen/.dotfiles/exa/scripts/install.sh\n/Users/PeterChen/.dotfiles/fd/scripts/install.sh\n/Users/PeterChen/.dotfiles/fzf/scripts/install.sh\n/Users/PeterChen/.dotfiles/gcc/scripts/install.sh\n/Users/PeterChen/.dotfiles/git/scripts/install.sh\n/Users/PeterChen/.dotfiles/neofetch/scripts/install.sh\n/Users/PeterChen/.dotfiles/node.nvm/scripts/install.sh\n/Users/PeterChen/.dotfiles/nvim/scripts/install.sh\n/Users/PeterChen/.dotfiles/nvim.packer.nvim/scripts/install.sh\n/Users/PeterChen/.dotfiles/pip/scripts/install.sh\n/Users/PeterChen/.dotfiles/pyenv/scripts/install.sh\n/Users/PeterChen/.dotfiles/ripgrep/scripts/install.sh\n/Users/PeterChen/.dotfiles/rust/scripts/install.sh\n/Users/PeterChen/.dotfiles/rust.cargo/scripts/install.sh\n/Users/PeterChen/.dotfiles/sdkman/scripts/install.sh\n/Users/PeterChen/.dotfiles/tmux/scripts/install.sh\n/Users/PeterChen/.dotfiles/vim/scripts/install.sh\n/Users/PeterChen/.dotfiles/zsh/scripts/install.sh\n/Users/PeterChen/.dotfiles/zsh.fzf-tab/scripts/install.sh\n/Users/PeterChen/.dotfiles/zsh.zplug/scripts/install.sh\n")])])]),t("p",[t("code",[s._v("-k")]),s._v(" 設置的是分隔後欄位的編號，第一個數字為起始欄位的編號，第二個是結束欄位的編號，中間以逗號 "),t("code",[s._v(",")]),s._v(" 區隔。")]),s._v(" "),t("p",[s._v("我們的目標是排序 "),t("code",[s._v(".dotfiles")]),s._v(" 的下層，因此是第五層（由於一開始就是 "),t("code",[s._v("/")]),s._v(" ，因此第一個欄位的空字串也要列入計算），而由於我們只想對此層資料夾進行排序，因此起始與結束都設定 "),t("code",[s._v("5")]),s._v(" 即可。")]),s._v(" "),t("p",[s._v("最後可以看到指令執行的結果完美地以 "),t("code",[s._v(".dotfiles")]),s._v(" 下層資料夾由小到大排序好了。")]),s._v(" "),t("h2",{attrs:{id:"總結"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#總結"}},[s._v("#")]),s._v(" 總結")]),s._v(" "),t("p",[t("code",[s._v("sort")]),s._v(" 會將整個字串作為搜尋結果，因此碰到像是目錄的斜線 "),t("code",[s._v("/")]),s._v(" 時，也會將其包含在排序的目標中，這會使得排序的結果不如預期。")]),s._v(" "),t("p",[s._v("為了解決這個問題，我們可以使用 "),t("code",[s._v("-t")]),s._v(" 參數設定分隔符，並使用 "),t("code",[s._v("-k")]),s._v(" 選定要排序的依據欄位，藉此排除此問題。")]),s._v(" "),t("h2",{attrs:{id:"參考資料"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#參考資料"}},[s._v("#")]),s._v(" 參考資料")]),s._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://blog.gtwang.org/linux/linux-sort-command-tutorial-and-examples/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Linux 的 sort 排序指令教學與常用範例整理"),t("OutboundLink")],1)])])])}),[],!1,null,null,null);e.default=i.exports}}]);