(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{567:function(s,t,a){"use strict";a.r(t);var r=a(20),e=Object(r.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("p",[a("code",[s._v("LS_COLORS")]),s._v(" 可以設定 "),a("code",[s._v("ls")]),s._v(" 執行結果的各種檔案類型的顏色與樣式，但是對於各式不同的檔案類型，要在一個環境變數上以一個字串下去設定是十分難以維護的，因此 GNU 的 Coreutils 提供了 "),a("code",[s._v("dircolors")]),s._v(" 指令來幫忙管理與設定 "),a("code",[s._v("LS_COLORS")]),s._v(" 。")]),s._v(" "),a("h2",{attrs:{id:"安裝-dircolors"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安裝-dircolors"}},[s._v("#")]),s._v(" 安裝 "),a("code",[s._v("dircolors")])]),s._v(" "),a("p",[a("code",[s._v("dircolors")]),s._v(" 指令是 GNU 的 Coreutils 所提供的其中一個指令，通常在 Linux 的發行版中都已經預安裝了 Coreutils ，因此不用自行安裝，如果沒有的話，可以透過 "),a("code",[s._v("apt")]),s._v(" 、 "),a("code",[s._v("pacman")]),s._v(" 與 "),a("code",[s._v("brew")]),s._v(" 之類的套件管理器做安裝。")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("% "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" coreutils\n% pacman -S coreutils\n% brew "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" coreutils\n")])])]),a("p",[s._v("安裝完後下 "),a("code",[s._v("dircolors --help")]),s._v(" 指令確認安裝是否成功。")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("% "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("dircolors")]),s._v(" --help\nUsage: "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("dircolors")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("OPTION"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(". "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("FILE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nOutput commands to "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" the "),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("LS_COLORS")]),s._v(" environment variable.\n\nDetermine "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("format")]),s._v(" of output:\n  -b, --sh, --bourne-shell    output Bourne shell code to "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("LS_COLORS")]),s._v("\n  -c, --csh, --c-shell        output C shell code to "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("LS_COLORS")]),s._v("\n  -p, --print-database        output defaults\n      --print-ls-colors       output fully escaped colors "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" display\n      --help        display this "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("help")]),s._v(" and "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v("\n      --version     output version information and "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v("\n\nIf FILE is specified, "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("read")]),s._v(" it to determine "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("which")]),s._v(" colors to use "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("which")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" types and extensions.  Otherwise, a precompiled database is used.\nFor details on the "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("format")]),s._v(" of these files, run "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'dircolors --print-database'")]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(".")]),s._v("\n\nGNU coreutils online help: "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("https://www.gnu.org/software/coreutils/"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\nFull documentation "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("https://www.gnu.org/software/coreutils/dircolors"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\nor available locally via: info "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'(coreutils) dircolors invocation'")]),s._v("\n")])])]),a("p",[s._v("macOS 的指令與別人不同，在安裝了 Coreutils 後，要改下 "),a("code",[s._v("gdircolors")]),s._v(" 指令：")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("gdircolors\n")])])]),a("p",[s._v("雖然 macOS 上的指令不同，但使用方式是完全一樣的。")]),s._v(" "),a("h2",{attrs:{id:"使用-dircolors"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用-dircolors"}},[s._v("#")]),s._v(" 使用 "),a("code",[s._v("dircolors")])]),s._v(" "),a("p",[a("code",[s._v("dircolors")]),s._v(" 可以接收一個 "),a("code",[s._v(".dir_colors")]),s._v(" 的檔案，並將這個檔案的內容轉為 "),a("code",[s._v("LS_COLORS")]),s._v(" 的字串，我們可以使用 "),a("code",[s._v("-p")]),s._v(" 或是 "),a("code",[s._v("--print-database")]),s._v(" 輸出預設的 "),a("code",[s._v(".dir_colors")]),s._v(" 內容：")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 輸出預設的 .dir_colors 內容")]),s._v("\n% "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("dircolors")]),s._v(" -p\n")])])]),a("p",[a("code",[s._v("dircolors")]),s._v(" 在沒有接收檔名的情況下，會使用預設的 "),a("code",[s._v(".dir_colors")]),s._v(" （也就是 "),a("code",[s._v("-p")]),s._v(" 所示的內容）來建立 "),a("code",[s._v("LS_COLORS")]),s._v(" ：")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("% "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("dircolors")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("LS_COLORS")])]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=00:su=37;41:sg=30;43:ca=00:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.zst=01;31:*.tzst=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.wim=01;31:*.swm=01;31:*.dwm=01;31:*.esd=01;31:*.avif=01;35:*.jpg=01;35:*.jpeg=01;35:*.mjpg=01;35:*.mjpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.webp=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=00;36:*.au=00;36:*.flac=00;36:*.m4a=00;36:*.mid=00;36:*.midi=00;36:*.mka=00;36:*.mp3=00;36:*.mpc=00;36:*.ogg=00;36:*.ra=00;36:*.wav=00;36:*.oga=00;36:*.opus=00;36:*.spx=00;36:*.xspf=00;36:*~=00;90:*#=00;90:*.bak=00;90:*.old=00;90:*.orig=00;90:*.part=00;90:*.rej=00;90:*.swp=00;90:*.tmp=00;90:*.dpkg-dist=00;90:*.dpkg-old=00;90:*.ucf-dist=00;90:*.ucf-new=00;90:*.ucf-old=00;90:*.rpmnew=00;90:*.rpmorig=00;90:*.rpmsave=00;90:'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("LS_COLORS")]),s._v("\n")])])]),a("p",[s._v("可以看到 "),a("code",[s._v("dircolors")]),s._v(" 的執行結果實際上就是個 Shell script ，我們可以直接將它貼在 "),a("code",[s._v("~/.zshrc")]),s._v(" （或是 Bash 的 "),a("code",[s._v("~/.bashrc")]),s._v(" ）中，這樣就可以使設定產生效果了。")]),s._v(" "),a("p",[s._v("如果 "),a("code",[s._v("dircolors")]),s._v(" 接收了檔案路徑參數時，它會依照此檔案的內容產生 Shell script ：")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 使用 ~/.dir_colors 的內容產生 Shell script")]),s._v("\n% "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("dircolors")]),s._v(" ~/.dir_colors\n")])])]),a("h2",{attrs:{id:"實際應用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#實際應用"}},[s._v("#")]),s._v(" 實際應用")]),s._v(" "),a("p",[s._v("我相信絕大多數人都不會想要自己配置 "),a("code",[s._v(".dir_colors")]),s._v(" ，但是許多優秀的 theme ，他們都會提供自己的 "),a("code",[s._v(".dir_colors")]),s._v(" 供使用者下載使用，例如 "),a("a",{attrs:{href:"https://github.com/arcticicestudio/nord-dircolors",target:"_blank",rel:"noopener noreferrer"}},[s._v("Nord dircolors"),a("OutboundLink")],1),s._v(" 就是個漂亮的例子。")]),s._v(" "),a("p",[s._v("當我們拿到了 "),a("code",[s._v(".dir_colors")]),s._v(" 配置檔後，可以將它放置於 "),a("code",[s._v("~/.dir_colors")]),s._v(" 路徑下，並且使用 "),a("code",[s._v("eval")]),s._v(" 將 "),a("code",[s._v("dircolors")]),s._v(" 的輸出作為指令執行：")]),s._v(" "),a("div",{staticClass:"language-shell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("eval")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("dircolors")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$HOME")]),s._v("/.dir_colors"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v("\n")])])]),a("p",[s._v("將上面的指令放在 "),a("code",[s._v("~/.zshrc")]),s._v(" 中，可以省去每次 "),a("code",[s._v(".dir_colors")]),s._v(" 內容更新時，要重複執行指令並複製的麻煩。")]),s._v(" "),a("h2",{attrs:{id:"總結"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#總結"}},[s._v("#")]),s._v(" 總結")]),s._v(" "),a("p",[s._v("使用 GNU Coreutils 的 "),a("code",[s._v("dircolors")]),s._v(" 指令可以藉由 "),a("code",[s._v(".dir_colors")]),s._v(" 檔案來產生設定 "),a("code",[s._v("LS_COLORS")]),s._v(" 值的 Shell script 。")]),s._v(" "),a("p",[s._v("我們可以設定相對易讀的 "),a("code",[s._v(".dir_colors")]),s._v(" 檔案，並使用 "),a("code",[s._v("dircolors")]),s._v(" 指令將其轉換為 Shell script 放入 Shell 的設定檔 "),a("code",[s._v("~/.zshrc")]),s._v(" 中，藉此使用設定的顏色。")]),s._v(" "),a("h2",{attrs:{id:"參考資料"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#參考資料"}},[s._v("#")]),s._v(" 參考資料")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://www.gnu.org/software/coreutils/manual/html_node/dircolors-invocation.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("GNU Coreutils dircolors invocation"),a("OutboundLink")],1)]),s._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/gibbling/dircolors",target:"_blank",rel:"noopener noreferrer"}},[s._v("GitHub gibbling/dircolors"),a("OutboundLink")],1)])])])}),[],!1,null,null,null);t.default=e.exports}}]);